      SUBROUTINE DOCK 
	INCLUDE 'TREKCOM/NOLIST'
      IDIDIT=0
      IF(CONDIT .EQ. IHDOCKD) GO TO 30 
      IF(INORBIT.NE.0) GO TO 40   
      IF(BASEX .EQ. 0) GO TO 5
      IF(IABS(SECTX-BASEX).LE.1 .AND. IABS(SECTY-BASEY).LE.1)GO TO 10 
5     CALL CRAMSHP
      CALL CRAMDMP(22H NOT ADJACENT TO BASE.) 
      RETURN
10    CONDIT = IHDOCKD
      CALL PROUT(7HDOCKED.,7) 
      IDIDIT=1
      IF(ENERGY .LT. INENRG) ENERGY=INENRG
      SHLD=INSHLD 
      TORPS=INTORPS 
      LSUPRES=INLSR 
      RETURN
 30   CALL PROUT(15HALREADY DOCKED.,15)
      RETURN
 40   CALL PROUT(36HYOU MUST FIRST LEAVE STANDARD ORBIT.,36) 
      RETURN
      END 
